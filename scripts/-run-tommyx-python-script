#!/bin/bash
set -euo pipefail

# Get the directory where this script is located
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# CD into the python directory
cd "$SCRIPT_DIR/python" || exit 1

# Get the first argument as the python script filename
PYTHON_SCRIPT="$1"
shift

# Strip .py extension if present
PYTHON_SCRIPT="${PYTHON_SCRIPT%.py}"

# Run uv run with the script as a module from the tommyx package
uv run python -m "tommyx.$PYTHON_SCRIPT" "$@"
